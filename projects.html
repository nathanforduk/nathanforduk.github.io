<!DOCTYPE html>
<html>
	<head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src = "https://www.googletagmanager.com/gtag/js?id=G-LD4L8FCK6D"></script>
        <script src = js/main.js></script>

        <meta charset = utf-8>
        <meta name = viewport content = "width = device-width, initial-scale = 1">
        <meta name = description content = "Project GreyHope">

        <link rel = stylesheet href = css/main.css>
        <title>Project GreyHope</title>
	</head>

    <body>
        <section class = top>
            <a href = index.html><img src = images/crossed.png></a>
            <a href = works.html><img src = images/works.png></a>
            <a href = projects.html class = this><img src = images/projects.png></a>
            <a href = about.html><img src = images/about.png></a>

            <a class = "grid--cell fc-black-300 ml12 sm:d-none" title = YouTube href = https://youtu.be/aJqjSGwKxBc target = _blank>
				<svg aria-hidden = true class = youtube width = 23 height = 23 viewBox = "0 0 24 24">
					<path d = "M10,16.5V7.5L16,12M20,4.4C19.4,4.2 15.7,4 12,4C8.3,4 4.6,4.19 4,4.38C2.44,4.9 2,8.4 2,12C2,15.59 2.44,19.1 4,19.61C4.6,19.81 8.3,20 12,20C15.7,20 19.4,19.81 20,19.61C21.56,19.1 22,15.59 22,12C22,8.4 21.56,4.91 20,4.4Z" fill = #a77></path>
				</svg>
			</a>
            
            <a class = icon onclick = bar(this)><img src = images/bars.png></a>
        </section>

        <section class = main>
            <h1>Project GreyHope</h1>

            <div class = display></div>

			<footer>
				<a class = email href = mailto:info@nathanford.co.uk>info@nathanford.co.uk</a>
				&copy; Copyright Nathan Ford, <span id = year></span>. Website by <a href = https://greyhope.uk target = _blank>Reuben Ford</a>.
			</footer>
		</section>

        <script>
            const SLIDESHOW_CONTAINERS = [
                {
                    title: "Wash Day",
                    width: 107,
                    height: 69,
                    year: 2018,
                    paint: "mixed media",
                    surface: "board",
                    sold: true,
                    slides: 8,
                    current: 1
                }, {
                    title: "Smoking Fags at the Exit",
                    width: 121,
                    height: 80,
                    year: 2018,
                    paint: "mixed media",
                    surface: "board",
                    sold: true,
                    slides: 9,
                    current: 1
                }, {
                    title: "Five Plus",
                    width: 121,
                    height: 80,
                    year: 2018,
                    paint: "mixed media",
                    surface: "board",
                    sold: true,
                    slides: 9,
                    current: 7
                }, {
                    title: "Flash Mob",
                    width: 210,
                    height: 120,
                    year: 2015,
                    paint: "mixed media",
                    surface: "board",
                    sold: true,
                    slides: 9,
                    current: 9
                }, {
                    title: "Carnival",
                    width: 112,
                    height: 54,
                    year: 2014,
                    paint: "mixed media",
                    surface: "canvas",
                    sold: true,
                    slides: 1,
                    current: 1
                }, {
                    title: "Point One",
                    width: 91,
                    height: 38,
                    year: 2014,
                    paint: "mixed media",
                    surface: "canvas",
                    sold: true,
                    slides: 1,
                    current: 1
                }, {
                    title: "Bugs",
                    width: 100,
                    height: 70,
                    year: 2013,
                    paint: "mixed media",
                    surface: "board",
                    sold: true,
                    slides: 1,
                    current: 1
                }
            ]

            const display = document.querySelector(".display")

			SLIDESHOW_CONTAINERS.forEach((item, index) => {
                const main = document.createElement("div")
				const container = document.createElement("div")

                for (let i = 1; i <= item.slides; i ++) {
                    const slide = document.createElement("div")
                    const number = document.createElement("div")
                    const image = document.createElement("img")

                    number.innerText = i + " / " + item.slides
                    image.src = "images/" + item.title.toLowerCase().replace(/\s/g, "_") + "_" + i + ".jpg"
                    if (i != item.current) slide.style.display = "none"

                    slide.appendChild(number)
                    slide.appendChild(image)
                    container.appendChild(slide)
                }

                if (item.slides > 1) {
                    const next = document.createElement("img")
                    const previous = document.createElement("img")

                    previous.className = "previous"
                    previous.setAttribute("onclick", "shuffle(" + index + ", -1)")
                    previous.src = "images/left.png"

                    next.className = "next"
                    next.setAttribute("onclick", "shuffle(" + index + ", 1)")
                    next.src = "images/right.png"

                    container.appendChild(previous)
                    container.appendChild(next)
                }
                
				main.appendChild(container)

                main.innerHTML += (
                    "<h2>" + item.title + "</h2>" + item.paint + " on " +
                    item.surface + " ~ " + item.width + "cm \u00d7 " +
                    item.height + "cm ~ " + item.year + (item.sold ? " ~ sold" : ""))

                display.appendChild(main)
			})

            const shuffle = (index, direction) => {
                const display = document.querySelector(".display")                
                const children = display.children[index].firstChild.children
                const data = SLIDESHOW_CONTAINERS[index]

                children[data.current - 1].style.display = "none"

                data.current += direction
                if (data.current > data.slides) data.current = 1
                else if (data.current < 1) data.current = data.slides

                children[data.current - 1].style.display = "block"
            }
        </script>
    </body>
</html>